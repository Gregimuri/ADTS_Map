// Конфигурация приложения с улучшенным геокодированием
const CONFIG = {
    // ID вашей Google Таблицы
    SPREADSHEET_ID: '1BItr9-Q8qnN0S05sMh1YLMqCCfXuNm1E88dvpGkVNU0',
    
    // Оставьте ПУСТЫМ - будем использовать публичный доступ
    API_KEY: '',
    
    // Названия столбцов
    COLUMN_NAMES: {
        name: ['Название ТТ', 'Название', 'Магазин', 'Точка'],
        region: ['Регион', 'Область', 'Город', 'Субъект'],
        address: ['Адрес', 'Местоположение', 'Адрес ТТ'],
        status: ['Статус ТТ', 'Статус', 'Состояние'],
        manager: ['Менеджер ФИО', 'Менеджер', 'Ответственный'],
        contractor: ['Подрядчик ФИО', 'Подрядчик', 'Исполнитель']
    },
    
    // Цвета для статусов
    STATUS_COLORS: {
        'сдан': '#2ecc71',           // зеленый
        'Сдан': '#2ecc71',
        'Активная': '#2ecc71',
        'Отправлен ФО, не принят': '#f39c12', // оранжевый
        'На паузе': '#f39c12',
        'Закрыта': '#e74c3c',        // красный
        'План': '#3498db',           // синий
        'default': '#95a5a6'         // серый
    },
    
    // Настройки карты
    MAP: {
        center: [55.7558, 37.6173], // Москва
        zoom: 4,
        tileLayer: 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',
        attribution: '&copy; OpenStreetMap contributors'
    },
    
    // Настройки обновления
    UPDATE: {
        auto: true,
        interval: 300000 // 5 минут
    },
    
    // Геокодирование
    GEOCODING: {
        // Региональные центры России (координаты для ускорения геокодирования)
        REGION_CENTERS: {
            'Москва': { lat: 55.7558, lng: 37.6173 },
            'Московская область': { lat: 55.7539, lng: 37.6208 },
            'Санкт-Петербург': { lat: 59.9343, lng: 30.3351 },
            'Ленинградская область': { lat: 59.9391, lng: 30.3159 },
            'Алтайский край': { lat: 53.3606, lng: 83.7636 },
            'Краснодарский край': { lat: 45.0355, lng: 38.9753 },
            'Красноярский край': { lat: 56.0090, lng: 92.8726 },
            'Пермский край': { lat: 58.0105, lng: 56.2294 },
            'Ставропольский край': { lat: 45.0433, lng: 41.9691 },
            'Приморский край': { lat: 43.1155, lng: 131.8855 },
            'Хабаровский край': { lat: 48.4802, lng: 135.0719 },
            'Республика Татарстан': { lat: 55.7961, lng: 49.1064 },
            'Республика Башкортостан': { lat: 54.7351, lng: 55.9587 },
            'Республика Дагестан': { lat: 42.9831, lng: 47.5047 },
            'Республика Крым': { lat: 45.0433, lng: 34.6021 },
            'Севастополь': { lat: 44.6166, lng: 33.5254 },
            'Свердловская область': { lat: 56.8389, lng: 60.6057 },
            'Нижегородская область': { lat: 56.3269, lng: 44.0065 },
            'Челябинская область': { lat: 55.1644, lng: 61.4368 },
            'Самарская область': { lat: 53.2415, lng: 50.2212 },
            'Ростовская область': { lat: 47.2357, lng: 39.7015 },
            'Новосибирская область': { lat: 55.0084, lng: 82.9357 },
            'Воронежская область': { lat: 51.6606, lng: 39.2006 },
            'Омская область': { lat: 54.9893, lng: 73.3682 },
            'Саратовская область': { lat: 51.5924, lng: 45.9608 },
            'Волгоградская область': { lat: 48.7071, lng: 44.5170 },
            'Тверская область': { lat: 56.8587, lng: 35.9176 },
            'Архангельская область': { lat: 64.5401, lng: 40.5433 },
            'Астраханская область': { lat: 46.3497, lng: 48.0408 },
            'Ивановская область': { lat: 57.0004, lng: 40.9739 },
            'Калужская область': { lat: 54.5140, lng: 36.2616 },
            'Курская область': { lat: 51.7304, lng: 36.1926 },
            'Липецкая область': { lat: 52.6088, lng: 39.5992 },
            'Оренбургская область': { lat: 51.7682, lng: 55.0974 },
            'Пензенская область': { lat: 53.2001, lng: 45.0047 },
            'Рязанская область': { lat: 54.6294, lng: 39.7417 },
            'Тамбовская область': { lat: 52.7212, lng: 41.4523 },
            'Тульская область': { lat: 54.1930, lng: 37.6173 },
            'Ульяновская область': { lat: 54.3142, lng: 48.4031 },
            'Ярославская область': { lat: 57.6261, lng: 39.8845 },
            'Белгородская область': { lat: 50.5953, lng: 36.5873 },
            'Брянская область': { lat: 53.2436, lng: 34.3642 },
            'Владимирская область': { lat: 56.1290, lng: 40.4066 },
            'Костромская область': { lat: 57.7679, lng: 40.9269 },
            'Курганская область': { lat: 55.4445, lng: 65.3422 },
            'Орловская область': { lat: 52.9703, lng: 36.0635 },
            'Смоленская область': { lat: 54.7826, lng: 32.0453 },
            'Томская область': { lat: 56.4846, lng: 84.9476 },
            'Читинская область': { lat: 52.0333, lng: 113.5000 },
            'Кемеровская область': { lat: 55.3547, lng: 86.0873 },
            'Мурманская область': { lat: 68.9585, lng: 33.0827 },
            'Новгородская область': { lat: 58.5256, lng: 31.2742 },
            'Псковская область': { lat: 57.8194, lng: 28.3318 },
            'Сахалинская область': { lat: 46.9591, lng: 142.7380 },
            'Тюменская область': { lat: 57.1530, lng: 65.5343 },
            'Магаданская область': { lat: 59.5602, lng: 150.7986 },
            'Камчатский край': { lat: 53.0373, lng: 158.6559 },
            'Амурская область': { lat: 50.2900, lng: 127.5270 },
            'Иркутская область': { lat: 52.2896, lng: 104.2806 },
            'Вологодская область': { lat: 59.2205, lng: 39.8915 },
            'Калининградская область': { lat: 54.7104, lng: 20.4522 },
            'Чеченская Республика': { lat: 43.3152, lng: 45.6943 },
            'Республика Саха (Якутия)': { lat: 62.0278, lng: 129.7315 },
            'Республика Бурятия': { lat: 51.8345, lng: 107.5846 },
            'Республика Коми': { lat: 61.6688, lng: 50.8354 },
            'Республика Карелия': { lat: 61.7850, lng: 34.3468 },
            'Республика Марий Эл': { lat: 56.6344, lng: 47.8999 },
            'Республика Мордовия': { lat: 54.1808, lng: 45.1860 },
            'Республика Удмуртия': { lat: 56.8527, lng: 53.2115 },
            'Республика Хакасия': { lat: 53.7212, lng: 91.4424 },
            'Республика Чувашия': { lat: 56.1463, lng: 47.2511 },
            'Еврейская автономная область': { lat: 48.7879, lng: 132.9237 },
            'Ненецкий автономный округ': { lat: 67.6381, lng: 53.0069 },
            'Ханты-Мансийский АО': { lat: 61.0032, lng: 69.0189 },
            'Чукотский автономный округ': { lat: 64.7334, lng: 177.4966 },
            'Ямало-Ненецкий автономный округ': { lat: 66.5300, lng: 66.6133 },
            'Забайкальский край': { lat: 52.0333, lng: 113.5000 }
        },
        
        // Синонимы регионов для нормализации
        REGION_SYNONYMS: {
            'МО': 'Московская область',
            'Москва и МО': 'Московская область',
            'Московская': 'Московская область',
            'СПб': 'Санкт-Петербург',
            'Питер': 'Санкт-Петербург',
            'Ленобласть': 'Ленинградская область',
            'Татарстан': 'Республика Татарстан',
            'Башкирия': 'Республика Башкортостан',
            'Дагестан': 'Республика Дагестан',
            'Краснодарский': 'Краснодарский край',
            'Красноярский': 'Красноярский край',
            'Пермский': 'Пермский край',
            'Ставропольский': 'Ставропольский край',
            'Приморский': 'Приморский край',
            'Хабаровский': 'Хабаровский край',
            'Свердловская': 'Свердловская область',
            'Нижегородская': 'Нижегородская область',
            'Челябинская': 'Челябинская область',
            'Самарская': 'Самарская область',
            'Ростовская': 'Ростовская область',
            'Новосибирская': 'Новосибирская область',
            'Воронежская': 'Воронежская область',
            'Омская': 'Омская область',
            'Саратовская': 'Саратовская область',
            'Волгоградская': 'Волгоградская область'
        },
        
        // Алгоритмы геокодирования (порядок приоритета)
        ALGORITHMS: ['smart', 'nominatim', 'region_based', 'approximate'],
        
        // Настройки smart-геокодера
        SMART_GEOCODER: {
            useLocalDB: true,
            useCache: true,
            cacheExpiryDays: 30,
            retryCount: 2,
            timeout: 10000 // 10 секунд
        }
    }
};
